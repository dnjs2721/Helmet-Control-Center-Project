<!DOCTYPE HTML>
<!--
	Strongly Typed by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
	
	 <title>My Helmet</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    
    	<style>
        tr, td{
            border-style : solid;
        }
            .look_helmet{
               border-style : solid; 
            }
        </style>
        
	</head>
	<body class="homepage is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header">
					<div class="container">
						<!-- Logo -->
							<h1 id="logo"><a href="lookHelmet.html">LOOK HELMETS</a></h1>
						<!-- Nav -->
							<nav id="nav">
								<ul>
									<li><a class="icon solid fa-home" href="main.html"><span>Main_Home</span></a></li>
									
									<li><a class="icon solid fa-retweet" href="Start.html"><span>Start Control System</span></a></li>
									
									<li><a class="icon solid fa-sitemap" href="Input_Worker.html"><span>EDIT _or_INPUT_HELMET↔WORKER</span></a></li>
									<li>
										<a href="#" class="icon solid fa-cog"><span>Helmet..</span></a>
										<ul>
											<li><a href="Register_Helmet.html">Regist_Helmet</a></li>
											<li><a href="lookHelmet.html">Look_Helmets</a></li>
										</ul>
									</li>
									<li><a class="icon solid fa-cog" ><span>Worker..</span></a>
									<ul>
											<li><a href="Register_User.html">Regist_Worker</a></li>
											<li><a href="lookUser.html">Look_Workers</a></li>
										</ul></li>
									
									
								</ul>
							</nav>

					</div>
				</section>

			<!-- Features -->

<form>
<input type="button" value="Load_Helmet_Inf"
           style="float:right" onclick="load_Helmet_Inf();"><br>
<table class = "look_helmet" border="1" bordercolor="blue" width ="600" height="200" align = "center" >
    <tr bgcolor="gray" align ="center">
        <p><td colspan = "6" span style="color:white">헬멧 보유 현황</td></p>
       
    </tr>
    
    <tr class="look_helmet" align = "center" bgcolor="skybule">
    
        <td><strong>ID<br>NUMBER</strong></td>
	<td><strong>Model<br>Name</strong></td>
	<td><strong>Manufacture<br>Date</strong></td>
	<td><strong>Purchase<br>Date</strong></td>
	<td><strong>Helmet<br>Price</strong></td>
	<td><strong>　Use　</strong></td>
    </tr>

    <tbody id="helmet_inf_list">
    <!-- 삽입되는 헬멧 리스트 -->

    </tbody>
        <script>
            let helmetData;

			function load_Helmet_Inf()
			{
                axios.get
                ("http://220.81.42.179:8080/api/helmet")
                    .then(function (response) {
                        helmetData=response.data;
                        console.log(response.data);
                        makeList();
                    })
                    .catch(function (error){

                        console.log(error);
                    });
            }
            function makeList() {
                let helmetlist_tbody = document.getElementById('helmet_inf_list');
                if(helmetlist_tbody.rows.length <1) {
                    for (let i = 0; i < helmetData.length; i++) {

                        let row = helmetlist_tbody.insertRow(helmetlist_tbody.rows.length);
                        let cell1 = row.insertCell(0);
                        let cell2 = row.insertCell(1);
                        let cell3 = row.insertCell(2);
                        let cell4 = row.insertCell(3);
                        let cell5 = row.insertCell(4);
                        let cell6 = row.insertCell(5);
                        //------
						let helmetid = helmetData[i].helmet_id;
						let helmetnamed = helmetData[i].helmet_name;
						let helmetmaked = helmetData[i].helmet_make_date;
						let helmetbuyed = helmetData[i].helmet_buy_date;
						let helmetpriced = helmetData[i].helmet_price;
						let helmetusing = helmetData[i].helmet_condition;
						//--
						cell1.innerHTML = helmetid;
						cell2.innerHTML = helmetnamed;
						cell3.innerHTML = helmetmaked;
						cell4.innerHTML = helmetbuyed;
						cell5.innerHTML = helmetpriced;
						cell6.innerHTML = helmetusing;
                       }
                }
                else if(helmetlist_tbody>1)
                {
                    while(1)
                    {
                        if(helmetlist_tbody>1)
                        {
                            helmetlist_tbody.deleteRow(helmetlist_tbody.rows.length - 1);
                        }
                        else
                            break;
                    }
                }

            }
        </script>





   <tbody id="helmetlist">

    </tbody>

</table>
    
</form>

			

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			

	</body>
</html>