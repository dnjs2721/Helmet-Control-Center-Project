<!DOCTYPE HTML>
<!--
	Strongly Typed by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
	 <title>Worker's</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	</head>
	<body class="homepage is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header">
					<div class="container">
						<!-- Logo -->
							<h1 id="logo"><a href="lookUser.html">LOOKWorkers</a></h1>
						<!-- Nav -->
							<nav id="nav">
								<ul>
									<li><a class="icon solid fa-home" href="main.html"><span>Main_Home</span></a></li>
									
									<li><a class="icon solid fa-retweet" href="Start.html"><span>Start Control System</span></a></li>
									
									<li><a class="icon solid fa-sitemap" href="Input_Worker.html"><span>EDIT _or_INPUT_HELMET↔WORKER</span></a></li>
									<li>
										<a href="#" class="icon solid fa-cog"><span>Helmet..</span></a>
										<ul>
											<li><a href="Register_Helmet.html">Regist_Helmet</a></li>
											<li><a href="lookHelmet.html">Look_Helmets</a></li>
										</ul>
									</li>
									<li><a class="icon solid fa-cog" ><span>Worker..</span></a>
									<ul>
											<li><a href="Register_User.html">Regist_Worker</a></li>
											<li><a href="lookUser.html">Look_Workers</a></li>
										</ul></li>
									
									
								</ul>
							</nav>

					</div>
				</section>

			<!-- Features -->

<form>
 <input type="button" value="Load_Worker_Inf" style="float:right" onclick="Load_Worker_Inf();"><br>
<table class = "look_worker" border="1" bordercolor="blue" width ="800" height="200" align = "center" >
    <tr bgcolor="gray" align ="center">
        <p><td colspan = "8" span style="color:white">작업자 등록 현황</td></p>
       
    </tr>
    
    <tr align = "center" bgcolor="skybule">
    <td><strong>Worker<br>Number</strong></td>
    <td><strong>Name</strong></td>
	<td><strong>　　　Ssn　　　</strong></td>
	<td><strong>BrithDay</strong></td>
	<td><strong>Phone<br>Number</strong></td>
	<td><strong>BloodType</strong></td>
	<td><strong>Work<br>Location</strong></td>
	<td><strong>Using<br>Helmet</strong></td>
    </tr>

    <tbody id="Load_Worker_Inf">
    <!-- 삽입되는 헬멧 리스트 -->

    </tbody>
        <script>
            let workerData;

            function Load_Worker_Inf()
            {



                axios.get
                ("http://220.81.42.179:8080/api/user/findAll")
                    .then(function (response) {
                        workerData=response.data;
                        console.log(response.data);
                        makeList();
                    })
                    .catch(function (error){

                        console.log(error);
                    });

            }
            function makeList() {
                let workerlist_tbody = document.getElementById('Load_Worker_Inf');
                if(workerlist_tbody.rows.length <1) {
                    for (let i = 0; i < workerData.length; i++) {

                        let row = workerlist_tbody.insertRow(workerlist_tbody.rows.length);
                        let cell1 = row.insertCell(0);
                        let cell2 = row.insertCell(1);
                        let cell3 = row.insertCell(2);
                        let cell4 = row.insertCell(3);
                        let cell5 = row.insertCell(4);
                        let cell6 = row.insertCell(5);
                        let cell7 = row.insertCell(6);
                        let cell8 = row.insertCell(7);
                        //------
                        let user_id = workerData[i].user_id;
                        let user_name = workerData[i].user_name;
                        let user_ssn = workerData[i].user_ssn;
                        let user_birth = workerData[i].user_birth;
                        let user_phone_number = workerData[i].user_phone_number;
                        let user_blood_type = workerData[i].user_blood_type;
                        let user_work_location = workerData[i].user_work_location;
                        let user_helmet = workerData[i].user_work_condition;
                        //--
                        cell1.innerHTML = user_id;
                        cell2.innerHTML = user_name;
                        cell3.innerHTML = user_ssn;
                        cell4.innerHTML = user_birth;
                        cell5.innerHTML = user_phone_number;
                        cell6.innerHTML = user_blood_type;
                        cell7.innerHTML = user_work_location;
                        cell8.innerHTML = user_helmet;

          
                    }
                }
                else if(workerlist_tbody>1)
                {
                    while(1)
                    {
                        if(workerlist_tbody>1)
                        {
                            workerlist_tbody.deleteRow(workerlist_tbody.rows.length - 1);
                        }
                        else
                            break;
                    }
                }

            }
        </script>





 

</table>
    
</form>

			

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			

	</body>
</html>